Program Project1;

Uses
    System.SysUtils;

Const
    MINYEAR = 18;
    MAXYEAR = 120;

Var
    Gender: Char = '0';
    Year: Integer = 0;
    IsCorrect: Boolean = False;

Begin
    Writeln('  You need to enter what gender you are, Man(M) or Woman(W).');
    Writeln('After that, enter your age ranging from 18 to 120.');
    Writeln('');
    Repeat
        Try
            Begin
                Writeln('Write your gender(M or W)?');
                Readln(Gender);
                If (Gender <> 'M') And (Gender <> 'm') And (Gender <> 'W') And (Gender <> 'w') Then
                Begin
                    Raise Exception.Create('Wrong gender selected.');
                End;

                Writeln('How old are you?');
                Readln(Year);
                If Year < MINYEAR Then
                    Raise Exception.Create('Age is young.');
                If Year > Maxyear Then
                    Raise Exception.Create('Age is great.');
                IsCorrect := True;
            End;
        Except
            On Error: Exception Do
            Begin
                Write(Error.Message);
                Writeln('');
            End;
        End;
    Until (IsCorrect);

    If (Gender = 'M') Or (Gender = 'm') Then
    Begin
        If ((Year Div 2) + 7 < MinYear) Then
        Begin
            Write('The age of your significant other is below the acceptable norm (18). ');
            Writeln(FormatFloat('#', ((Year / 2) + 7)));
        End
        Else
        Begin
            Write('You are a man and you ');
            Write(Year);
            Write(', and to your soulmate ');
            Write(FormatFloat('#', ((Year / 2) + 7)));
            Writeln('.');
        End;
    End
    Else
        If (Gender = 'W') Or (Gender = 'w') Then
        Begin
            If ((Year * 2) - 14 > MaxYear) Then
            Begin
                Write('The age of your significant other has exceeded the maximum norm (120). ');
                Writeln((Year * 2) - 14);
            End
            Else
            Begin
                Write('You are a woman and you ');
                Write(Year);
                Write(', and to your soulmate ');
                Write((Year * 2) - 14);
                Writeln('.');
            End;
        End;

    Readln;

End.
